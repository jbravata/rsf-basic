{"version":3,"sources":["../../src/router/transformParams.js"],"names":["findParams","node","params","displayName","push","props","name","children","forEach","child","transformParams","route","path","ast","param","paramIndex","replace","RegExp","match","capture"],"mappings":";;;;;AAAA;;;;AAKA,SAASA,UAAT,CAAoBC,IAApB,EAAuC;AAAA,MAAbC,MAAa,uEAAJ,EAAI;;AACrC,MAAID,IAAI,CAACE,WAAL,KAAqB,OAArB,IAAgCF,IAAI,CAACE,WAAL,KAAqB,OAAzD,EAAkE;AAChED,IAAAA,MAAM,CAACE,IAAP,CAAYH,IAAI,CAACI,KAAL,CAAWC,IAAvB;AACD;;AACDL,EAAAA,IAAI,CAACM,QAAL,CAAcC,OAAd,CAAsB,UAAAC,KAAK;AAAA,WAAIT,UAAU,CAACS,KAAD,EAAQP,MAAR,CAAd;AAAA,GAA3B;AACA,SAAOA,MAAP;AACD;;AAED,eAAe,SAASQ,eAAT,CAAyBC,KAAzB,EAAgCC,IAAhC,EAAsC;AACnD,MAAMV,MAAM,GAAGF,UAAU,CAACW,KAAK,CAACE,GAAP,CAAzB;AACAX,EAAAA,MAAM,CAACM,OAAP,CAAe,UAACM,KAAD,EAAQC,UAAR,EAAuB;AACpCH,IAAAA,IAAI,GAAGA,IAAI,CAACI,OAAL,EACL;AACA;AACA;AACA,QAAIC,MAAJ,uBAA0BH,KAA1B,QAAoC,GAApC,CAJK,EAKL,UAACI,KAAD,EAAQC,OAAR;AAAA,uBAAuBA,OAAvB,eAAmCJ,UAAU,GAAG,CAAhD;AAAA,KALK,CAAP;AAOD,GARD;AASA,SAAOH,IAAP;AACD","sourcesContent":["/**\n * @license\n * Copyright Â© 2017-2018 Moov Corporation.  All rights reserved.\n */\n\nfunction findParams(node, params = []) {\n  if (node.displayName === 'Param' || node.displayName === 'Splat') {\n    params.push(node.props.name)\n  }\n  node.children.forEach(child => findParams(child, params))\n  return params\n}\n\nexport default function transformParams(route, path) {\n  const params = findParams(route.ast)\n  params.forEach((param, paramIndex) => {\n    path = path.replace(\n      // Replacing all references of param which are\n      // - Not at the begining of the path\n      // - Not escaped\n      new RegExp(`(^|[^\\\\\\\\]){${param}}`, 'g'),\n      (match, capture) => `${capture}\\\\${paramIndex + 1}`\n    )\n  })\n  return path\n}\n"],"file":"transformParams.js"}